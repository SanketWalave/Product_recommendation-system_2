<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Product List</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .product-card {
      transition: transform 0.3s ease;
    }

    .product-card:hover {
      transform: scale(1.02);
    }

    .product-img {
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
    }
  </style>
</head>

<body class="bg-light">

  <div class="container py-5">
    <h2 class="text-center mb-4">Product List</h2>
    <h2 class="text-center mb-4">
      <li><a class="dropdown-item" href="/addProduct">Add Product</a></li>
    </h2>

    <div class="row row-cols-1 row-cols-md-3 g-4">
      <% products.forEach(product=> { %>
        <div class="col">
          <div class="card product-card shadow-sm h-100">
            <img src="<%= product.product_image %>" class="card-img-top product-img" alt="<%= product.product_name %>">
            <div class="card-body">
              <h5 class="card-title">
                <%= product.product_name %>
              </h5>

              <p class="card-text"><strong>Brand:</strong>
                <%= product.brand %>
              </p>
              <p class="card-text"><strong>Description:</strong>
                <%= product.destcription %>
              </p>
              <p class="card-text"><strong>Subcategory ID:</strong>
                <%= product.subcategory_id %>
              </p>
              <p class="card-text"><strong>Stock:</strong>
                <%= product.stock %>
                  <%= product.stock_unit %>
              </p>
              <p class="card-text"><strong>Original Price:</strong> ₹<%= product.price %>
              </p>

              <% if (product.discount> 0) { %>
                <p class="text-success"><strong>Discount:</strong>
                  <%= product.discount %>%
                </p>
                <p class="text-primary"><strong>Final Price:</strong> ₹<%= (product.price - (product.price *
                    product.discount / 100)).toFixed(2) %>
                </p>
                <% } else { %>
                  <p class="text-primary"><strong>Final Price:</strong> ₹<%= product.price %>
                  </p>
                  <% } %>

                    <p class="card-text"><strong>Organic:</strong>
                      <%= product.organic===1 ? 'Yes' : 'No' %>
                    </p>
            </div>

            <div class="card-footer bg-transparent border-top-0 d-flex justify-content-between">
              <a href="/deleteProduct?did=<%= product.product_id %>" class="btn btn-sm btn-danger">Delete</a>
              <a href="/updateProduct?did=<%= product.product_id %>" class="btn btn-sm btn-danger">Update</a>
          


 </div>
          </div>
        </div>
        <% }); %>
    </div>
  </div>

  <script src=" https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>